<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Event listener - Cui Dialog</title>
    <link rel="stylesheet" href="./../demo.css">

    <style>
    .activeDialog:after {
        -webkit-filter: grayscale(100%);
        filter: grayscale(100%);
    }
    </style>

    <script>
        document.addEventListener("changeDialogState", function(event) {
            toggleBodyClass(event.detail.dialog);
        });

        var toggleBodyClass = function(domElement){
            var body = document.querySelector('body');

            if (domElement.state == 'open' && body.className.indexOf('activeDialog') == -1) {
                body.className += ' activeDialog';
            }

            if (domElement.state == 'closed' && body.className.indexOf('activeDialog') !== -1) {
                body.className = body.className.replace('activeDialog', '');
            }
        }
    </script>
</head>

<body>

    <main class="container">
        <button onclick="cuiDialog('alice').open()">Open dialog</button>
        <br>
        <p>This example adds an <code>.activeDialog</code> class name on the body. Which will make background image to grey out (if your browser supports it).</p>
    </main>

    <cui-dialog name="alice">
        <h1>This is a dialog</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut totam, repellat maxime est animi veritatis unde aperiam placeat natus! Veritatis quos, porro non laboriosam adipisci eaque esse expedita voluptate architecto.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iste quos quas quisquam accusantium, dolor recusandae deserunt nisi numquam voluptates dolores consectetur quis est optio consequatur, maiores culpa assumenda. Nemo, esse?Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit sapiente facilis totam sequi animi deleniti impedit facere, quo voluptatibus, quasi explicabo! Esse sapiente adipisci nulla et similique, eligendi molestiae quidem?</p>
        <p> quia commodi cupiditate velit nobis ipsum, consequuntur asperiores voluptatibus beatae odio optio aliquam dolore, est itaque tempore. adsf Lorem ipsum dolor sit amet, consectetur adipisicing elit. Recusandae temporibus sed obcaecati maiores minus, soluta officia modi, ipsam sint quasi deleniti, ex odio totam culpa saepe, dolores qui quod fuga.</span><span>Vel iste, minus, ad, delectus in odio consequatur quis sapiente, illo id corporis vitae necessitatibus dolorem doloribus perspiciatis fugiat eligendi nisi ut itaque esse consequuntur fugit aperiam numquam. Quis, unde.</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Architecto molestiae aliquid, laborum, aspernatur minus tempore repellat fugit totam aut sunt. Ad dolor dolorum cumque, amet nostrum ipsam quibusdam harum numquam!</p>
    </cui-dialog>

    <script src="./../../lib/cui-dialog-full.js"></script>

</body>
</html>